<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Website - Universal AI Analytics</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .cta-button { background: #007cba; color: white; padding: 15px 30px; border: none; border-radius: 5px; cursor: pointer; margin: 10px; }
        .cta-button:hover { background: #005a87; }
        .form-section { background: #f5f5f5; padding: 20px; margin: 20px 0; border-radius: 5px; }
        input, textarea { width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>Test Website for Universal AI Analytics</h1>

    <p>This is a test website to verify that the Universal AI Analytics platform is working correctly.</p>

    <div class="form-section">
        <h2>Test Form (Track Lead Generation)</h2>
        <form id="contact-form">
            <input type="text" placeholder="Your Name" name="name" required>
            <input type="email" placeholder="Your Email" name="email" required>
            <input type="text" placeholder="Company" name="company">
            <textarea placeholder="Your Message" name="message" rows="4"></textarea>
            <button type="submit" class="cta-button">Submit Form</button>
        </form>
    </div>

    <div>
        <h2>Test Buttons (Track Clicks)</h2>
        <button class="cta-button" data-track="cta-demo">Request Demo</button>
        <button class="cta-button" data-track="cta-pricing">View Pricing</button>
        <button class="cta-button" data-track="cta-contact">Contact Sales</button>
    </div>

    <div>
        <h2>Test Links</h2>
        <a href="#features" data-track="nav-features">Features</a> |
        <a href="#pricing" data-track="nav-pricing">Pricing</a> |
        <a href="#contact" data-track="nav-contact">Contact</a>
    </div>

    <!-- Universal AI Analytics Integration -->
    <script>
        // Simulate the tracker (since we need to serve it from the API)
        window.UniversalAI = {
            init: function(config) {
                console.log('Universal AI initialized with config:', config);

                // Track page view
                this.track('page_view', {
                    url: window.location.href,
                    title: document.title,
                    timestamp: new Date().toISOString()
                });

                // Track form submissions
                document.getElementById('contact-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.track('form_submit', {
                        form_id: 'contact-form',
                        form_type: 'contact',
                        timestamp: new Date().toISOString()
                    });
                    alert('Form submitted! Check your analytics dashboard.');
                });

                // Track button clicks
                document.querySelectorAll('[data-track]').forEach(element => {
                    element.addEventListener('click', (e) => {
                        this.track('button_click', {
                            button_id: e.target.getAttribute('data-track'),
                            button_text: e.target.textContent,
                            timestamp: new Date().toISOString()
                        });
                        console.log('Tracked click:', e.target.getAttribute('data-track'));
                    });
                });
            },

            track: function(event, data) {
                // Send to your local API
                fetch('http://localhost:4000/api/v1/events', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        event: event,
                        data: data,
                        site_id: 'test-website',
                        session_id: this.getSessionId(),
                        timestamp: new Date().toISOString()
                    })
                }).then(response => {
                    console.log('Event tracked:', event, data);
                    return response.json();
                }).then(data => {
                    console.log('Tracking response:', data);
                }).catch(error => {
                    console.error('Tracking error:', error);
                });
            },

            getSessionId: function() {
                let sessionId = localStorage.getItem('universal_ai_session');
                if (!sessionId) {
                    sessionId = 'session_' + Math.random().toString(36).substr(2, 9);
                    localStorage.setItem('universal_ai_session', sessionId);
                }
                return sessionId;
            }
        };

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            UniversalAI.init({
                apiEndpoint: 'http://localhost:4000/api/v1',
                siteId: 'test-website',
                trackPageViews: true,
                trackClicks: true,
                trackForms: true
            });
        });
    </script>
</body>
</html>
